(this["webpackJsonpopen-mic-nights"]=this["webpackJsonpopen-mic-nights"]||[]).push([[0],{210:function(e,t,s){},248:function(e,t){},250:function(e,t){},268:function(e,t){},293:function(e,t){},295:function(e,t){},327:function(e,t){},329:function(e,t){},330:function(e,t){},335:function(e,t){},337:function(e,t){},343:function(e,t){},345:function(e,t){},364:function(e,t){},376:function(e,t){},379:function(e,t){},427:function(e,t,s){"use strict";s.r(t);var a=s(8),r=s.n(a),i=s(93),n=s.n(i),l=(s(210),s(95)),o=s(20),c=s(203),d=s.n(c),u=s(204),h=s(1);class m extends r.a.Component{constructor(e){super(e),this.handleClose=()=>{this.setState({show:!1})},this.state={show:e.show}}render(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(u.a,{style:{height:23,width:23,zIndex:10,cursor:"pointer"},className:"Active"===this.props.status?"is-link":"is-danger",onClick:()=>this.setState({show:!this.state.show})}),this.state.show&&Object(h.jsx)(b,{name:this.props.name,address:this.props.address,weekday:this.props.weekday,status:this.props.status,onClose:this.handleClose})]})}}const b=e=>{const{name:t,address:s,weekday:a,status:r,onClose:i}=e;return Object(h.jsxs)("div",{style:{position:"relative",bottom:50,left:"-45px",textAlign:"center",width:220,backgroundColor:"white",boxShadow:"0 2px 7px 1px rgba(0, 0, 0, 0.3)",padding:10,fontSize:14,zIndex:100,borderRadius:"25px"},children:[Object(h.jsx)("button",{onClick:i,style:{float:"right",background:"none",border:"none",cursor:"pointer"},children:"\u2716\ufe0f"}),Object(h.jsxs)("div",{style:{fontSize:14},children:[t," "]}),Object(h.jsxs)("div",{style:{fontSize:10},children:[a," at ",s]}),"Inactive"===r&&Object(h.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:"Inactive"})]})};var p=m;var j=[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}];const{ApiKey:f}=s(94),g={styles:j};class y extends r.a.Component{constructor(e){super(e),this._onChildClick=(e,t)=>{this.setState((t=>{let s=t.results.findIndex((e=>e.show));s>0&&t.results[s].original.RowNumber!=parseInt(e)&&(t.results[s].show=!1),s=t.results.findIndex((t=>t.original.RowNumber==parseInt(e))),t.results[s].show=!t.results[s].show;const a=document.querySelectorAll("td");for(var r=null,i=0;i<a.length;i++)if(a[i].textContent==t.results[s].original.Name){r=a[i];break}return r.parentNode.style.backgroundColor="#fffcb3",setTimeout((()=>r.parentNode.style.backgroundColor="white"),2e3),r.scrollIntoView({behavior:"smooth",block:"nearest"}),{results:t.results}}))},this.state={results:[]}}componentDidUpdate(e){this.props.results!=e.results&&this.setState(((e,t)=>({results:t.results.map((e=>({...e,show:!1})))})))}render(){return Object(h.jsx)("div",{id:"map",children:Object(h.jsx)(d.a,{bootstrapURLKeys:{key:f},options:g,defaultCenter:{lat:45.463336,lng:9.187174},defaultZoom:12.8,onChildClick:this._onChildClick,children:this.state.results.map((e=>Object(h.jsx)(p,{lat:e.original.Latitude,lng:e.original.Longitude,address:e.original.Address,weekday:e.original.Weekday,name:e.original.Name,status:e.original.Status,show:e.show},e.original.RowNumber)))})})}}var x=y,O=s(205),v=s(94);function w(e){let{column:{filterValue:t,setFilter:s,preFilteredRows:a,id:i}}=e;const n=r.a.useMemo((()=>{const e=new Set;return a.forEach((t=>{e.add(t.values[i])})),[...e.values()]}),[i,a]);return Object(h.jsxs)("select",{className:"select is-small",value:t,onChange:e=>{s(e.target.value||void 0)},children:[Object(h.jsx)("option",{value:"",children:"All"}),n.map(((e,t)=>Object(h.jsx)("option",{value:e,children:e},t)))]})}function k(e){let{column:{filterValue:t,setFilter:s}}=e;return Object(h.jsx)("input",{className:"input is-small",value:t||"",onChange:e=>s(e.target.value)})}function F(e){let{tableInstance:t}=e;const{getTableProps:s,getTableBodyProps:a,headerGroups:r,rows:i,prepareRow:n,allColumns:l}=t;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"columns is-multiline",children:[Object(h.jsx)("span",{className:"map column is-12-mobile is-5-desktop",children:Object(h.jsx)(x,{results:i})}),Object(h.jsxs)("span",{className:"table_wrapper column is-12-mobile is-7-desktop",children:[Object(h.jsxs)("div",{id:"table-dropdown",className:"dropdown",children:[Object(h.jsx)("div",{className:"dropdown-trigger",children:Object(h.jsx)("button",{className:"button",onClick:()=>document.getElementById("table-dropdown").classList.toggle("is-active"),children:"Select columns \ud83d\udd3d"})}),Object(h.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:l.map((e=>Object(h.jsx)("div",{className:"dropdown-content",children:Object(h.jsxs)("label",{className:"checkbox",children:[Object(h.jsx)("input",{type:"checkbox",...e.getToggleHiddenProps()}),e.id]})},e.id)))})]}),Object(h.jsxs)("table",{className:"table is-hoverable",...s(),children:[Object(h.jsx)("thead",{children:r.map((e=>Object(h.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>Object(h.jsxs)("th",{...e.getHeaderProps({style:{minWidth:e.minWidth,width:e.width}}),children:[e.render("Header"),Object(h.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]})))})))}),Object(h.jsx)("tbody",{...a(),children:i.map((e=>(n(e),Object(h.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>Object(h.jsx)("td",{...e.getCellProps(),children:e.render("Cell")})))}))))})]})]})]})})}var N=function(){const e=function(e,t){const[s,r]=Object(a.useState)({headerValues:null,rows:[],isFetching:!1});return Object(a.useEffect)((()=>{!async function(){try{r({...s,isFetching:!0});const a=new O.GoogleSpreadsheet(e);a.useApiKey(t),await a.loadInfo();const i=a.sheetsByIndex[0],n=await i.getRows();n.sort(((e,t)=>e.Name.localeCompare(t.Name))),r({headerValues:i.headerValues,rows:n,isFetching:!1})}catch(a){console.error(a),r({...s,isFetching:!1})}}()}),[e,t]),s}("1_X_znvg8kGbFMXoys011182T5ZTGONCsveY9uLEWsr8",v.ApiKey),t=function(e){return Object(a.useMemo)((()=>e.isFetching||null==e.headerValues?[]:e.rows.map((e=>({Address:e.Address,AudienceEntryFee:e["Audience Entry Fee"],HowToBook:e["Contact / Book a Spot"],Language:e.Language,Category:e["Event Category"],SubCategory:e["Event Sub-Category"],Status:e.Status,OrganizerName:e["Organizer Name"],Description:e["Event Description"],FacebookGroup:e["Facebook Group"],FacebookPage:e["Facebook Page"],WhatsApp:e.WhatsApp,GForm:e["Google Form"],Email:e.Email,Frequency:e.Frequency,Instagram:e.Instagram,Latitude:e.Latitude,Level:e["Comedian Level"],Longitude:e.Longitude,Name:e.Name,RowNumber:e.rowNumber,Time:e["Event Time"],UpdateInfoFormLink:e["Update Info Form Link"],Venue:e.Venue,Weekday:e["Weekday / Month"],Website:e.Website,WheelchairAccess:e["Wheelchair Access"]})))),[e])}(e),s=function(e,t){return Object(l.useTable)({columns:e,data:t,initialState:{hiddenColumns:e.filter((e=>e.hideInitially)).map((e=>e.accessor))}},l.useFilters)}(function(e){return Object(a.useMemo)((()=>e.isFetching||null==e.headerValues?[]:[{Header:"",accessor:"UpdateInfoFormLink",disableFilters:!0,Cell:e=>{let{row:t}=e;return Object(h.jsx)("a",{href:t.original.UpdateInfoFormLink,target:"_blank",children:Object(h.jsx)(o.f,{})})}},{Header:"",accessor:"Instagram",maxWidth:20,minWidth:20,width:20,disableFilters:!0,Cell:e=>{let{row:t}=e;return Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{href:t.original.Instagram,target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)(o.e,{})}),Object(h.jsx)("a",{href:t.original.FacebookPage,target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)(o.c,{})}),Object(h.jsx)("a",{href:t.original.WhatsApp,children:Object(h.jsx)(o.g,{})}),Object(h.jsx)("a",{href:t.original.GForm,target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)(o.d,{})}),Object(h.jsx)("a",{href:""===t.original.Email?"":"Italian"===t.original.Language?"mailto:".concat(t.original.Email,"?subject=Iscrizione%20open%20mic%20").concat(t.original.Venue):"mailto:".concat(t.original.Email,"?subject=Sign%20up%20to%20open%20mic%20").concat(t.original.Venue),children:Object(h.jsx)(o.b,{})})]})}},{Header:"Name",accessor:"Name",disableFilters:!1,maxWidth:300,minWidth:300,Cell:e=>{let{cell:{value:t}}=e;return Object(h.jsx)("b",{children:Object(h.jsx)("i",{children:t})})},Filter:k},{Header:"Description",accessor:"Description",hideInitially:!0,Filter:k},{Header:"Category",accessor:"Category",hideInitially:!0,Filter:k},{Header:"Sub Category",accessor:"SubCategory",hideInitially:!0,Filter:k},{Header:"Status",accessor:"Status",maxWidth:600,Filter:w,filter:"equals"},{Header:"Organizer Name",accessor:"OrganizerName",hideInitially:!0,Filter:k},{Header:"Audience Entry Fee",accessor:"AudienceEntryFee",hideInitially:!0,Filter:w},{Header:"Level",accessor:"Level",Filter:w,filter:"equals"},{Header:"Language",accessor:"Language",Filter:w},{Header:"Frequency",accessor:"Frequency",Filter:w},{Header:"Weekday",accessor:"Weekday",Filter:w},{Header:"Time",accessor:"Time",Filter:k},{Header:"Venue",accessor:"Venue",maxWidth:600,minWidth:200,width:400,Filter:k,disableFilters:!0},{Header:"Website",accessor:"Website",hideInitially:!0,disableFilters:!0},{Header:"Address",accessor:"Address",maxWidth:600,minWidth:300,width:400,Filter:k,disableFilters:!0},{Header:"Wheelchair Access",accessor:"WheelchairAccess",hideInitially:!0,Filter:w},{Header:"How To Book",accessor:"HowToBook",Filter:k,disableFilters:!0},{Header:"Facebook Group",accessor:"FacebookGroup",hideInitially:!0,disableFilters:!0,Cell:e=>{let{row:t}=e;return Object(h.jsx)("a",{href:t.original.FacebookGroup,children:t.original.FacebookGroup})}}]),[e])}(e),t);return Object(h.jsx)(F,{tableInstance:s})},T=s.p+"static/media/milano-2.80d62e66.png";var C=function(){return Object(h.jsxs)("nav",{className:"navbar is-light has-shadow py-2 mb-2",children:[Object(h.jsxs)("div",{className:"navbar-brand",children:[Object(h.jsx)("a",{className:"navbar-item",style:{padding:"0.9rem"},children:Object(h.jsx)("img",{src:T,style:{maxHeight:"120px"}})}),Object(h.jsxs)("div",{className:"navbar-start",children:[Object(h.jsx)("div",{className:"navbar-item",children:Object(h.jsxs)("div",{className:"title-subtitle-container",children:[Object(h.jsx)("p",{className:"title",style:{fontSize:"1.75rem"},children:"Milan Standup Comedy Map"}),Object(h.jsx)("p",{className:"subtitle",style:{fontSize:"0.875rem"},children:"Perform comedy near you"})]})}),Object(h.jsx)("div",{className:"navbar-burger",onClick:()=>document.getElementById("nav-links").classList.toggle("is-active"),children:Object(h.jsx)(o.a,{fontSize:"1.5em"})})]})]}),Object(h.jsx)("div",{className:"navbar-menu",id:"nav-links",children:Object(h.jsxs)("div",{className:"navbar-end",children:[Object(h.jsx)("a",{className:"navbar-item navbar-item-centered",href:"https://forms.gle/vDuLfQ7Bc9iKxT2o8",children:"\ud83c\udfa4 Submit an open mic night"}),Object(h.jsx)("a",{className:"js-modal-trigger navbar-item-centered","data-target":"modal-js-example",children:"\u2753 F.A.Q."}),Object(h.jsx)("a",{className:"navbar-item navbar-item-centered",href:"https://www.instagram.com/_anarchytect/",children:"\ud83d\udce3 Contact me for feedbacks!"})]})})]})};document.addEventListener("DOMContentLoaded",(()=>{function e(e){e.classList.remove("is-active")}(document.querySelectorAll(".js-modal-trigger")||[]).forEach((e=>{const t=e.dataset.target,s=document.getElementById(t);e.addEventListener("click",(()=>{s.classList.add("is-active")}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((t=>{const s=t.closest(".modal");t.addEventListener("click",(()=>{e(s)}))})),document.addEventListener("keydown",(t=>{"Escape"===t.code&&(document.querySelectorAll(".modal")||[]).forEach((t=>{e(t)}))}))}));function I(){const e=[{question:"Found a bug? Wanna contribute? Rip the site and f**k us?",answer:Object(h.jsxs)("p",{children:["Here's our ",Object(h.jsx)("a",{href:"https://github.com/morettimarco/open-mic-nights",children:"Git repo"}),"! Take a look at my code!"]})},{question:"How can I view the raw data of app?",answer:Object(h.jsxs)("p",{children:["Head to the ",Object(h.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1_X_znvg8kGbFMXoys011182T5ZTGONCsveY9uLEWsr8",children:"Google Sheet."})]})},{question:"Credits",answer:Object(h.jsxs)("p",{children:["Many thanks to the original project"," ",Object(h.jsx)("a",{href:"https://apuchitnis.github.io/open-mic-nights/",children:"London Standup Comedy Map"})," ","and to the awesome"," ",Object(h.jsx)("a",{href:"https://apuchitnis.github.io/",children:" Apu Chitnis"})," for sharing it."]})}];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C,{}),Object(h.jsx)(N,{}),Object(h.jsx)("div",{className:"section",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"columns is-vcentered",children:e.map((e=>Object(h.jsx)("div",{className:"column",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-header",children:Object(h.jsx)("div",{className:"card-header-title",children:e.question})}),Object(h.jsx)("div",{className:"card-content",children:Object(h.jsx)("div",{className:"content",children:e.answer})})]})},e.question)))})})})]})}const S=document.getElementById("app");n.a.render(Object(h.jsx)(I,{}),S)},89:function(e,t){},94:function(e,t){t.ApiKey="AIzaSyBf1UOdCb4_NT4h_g4Wzz4taWIok5cpeCQ"}},[[427,1,2]]]);
//# sourceMappingURL=main.20c32b75.chunk.js.map