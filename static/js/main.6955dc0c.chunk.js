(this["webpackJsonpopen-mic-nights"]=this["webpackJsonpopen-mic-nights"]||[]).push([[0],{111:function(e,t){},126:function(e,t){t.ApiKey="AIzaSyBf1UOdCb4_NT4h_g4Wzz4taWIok5cpeCQ"},241:function(e,t,n){},278:function(e,t){},280:function(e,t){},298:function(e,t){},334:function(e,t){},336:function(e,t){},368:function(e,t){},370:function(e,t){},371:function(e,t){},376:function(e,t){},378:function(e,t){},384:function(e,t){},386:function(e,t){},405:function(e,t){},417:function(e,t){},420:function(e,t){},469:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),s=n(115),i=n.n(s),c=(n(241),n(116)),o=n(13),l=n(232),d=n(235),u=n(236),h=n(117),b=n(15),j=n(70),m=n(71),p=n(73),g=n(72),f=n(233),O=n.n(f),v=n(234),x=n(1),w=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleClose=function(){a.setState({show:!1})},a.state={show:e.show},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(v.a,{style:{height:25,width:25,zIndex:10,cursor:"pointer"},className:"Active"===this.props.status?"is-link":"is-danger",onClick:function(){return e.setState({show:!e.state.show})}}),this.state.show&&Object(x.jsx)(y,{name:this.props.name,address:this.props.address,weekday:this.props.weekday,status:this.props.status,onClose:this.handleClose})]})}}]),n}(r.a.Component),y=function(e){var t=e.name,n=e.address,a=e.weekday,r=e.onClose;return Object(x.jsxs)("div",{style:{position:"relative",bottom:50,left:"-45px",textAlign:"center",width:220,backgroundColor:"white",boxShadow:"0 2px 7px 1px rgba(0, 0, 0, 0.3)",padding:10,fontSize:14,zIndex:100,borderRadius:"25px"},children:[Object(x.jsx)("button",{onClick:r,style:{float:"right",background:"none",border:"none",cursor:"pointer"},children:"\u2716\ufe0f"}),Object(x.jsxs)("div",{style:{fontSize:14},children:[t," "]}),Object(x.jsxs)("div",{style:{fontSize:10},children:[a," at ",n]})]})},k=w,F=n(126).ApiKey,N=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e))._onChildClick=function(e,t){a.setState((function(t){var n=t.results.findIndex((function(e){return e.show}));n>0&&t.results[n].original.RowNumber!=parseInt(e)&&(t.results[n].show=!1),n=t.results.findIndex((function(t){return t.original.RowNumber==parseInt(e)})),t.results[n].show=!t.results[n].show;for(var a=document.querySelectorAll("td"),r=null,s=0;s<a.length;s++)if(a[s].textContent==t.results[n].original.Name){r=a[s];break}return r.parentNode.style.backgroundColor="#fffcb3",setTimeout((function(){return r.parentNode.style.backgroundColor="white"}),2e3),r.scrollIntoView({behavior:"smooth",block:"nearest"}),{results:t.results}}))},a.state={results:[]},a}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.results!=e.results&&this.setState((function(e,t){return{results:t.results.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{show:!1})}))}}))}},{key:"render",value:function(){return Object(x.jsx)("div",{id:"map",children:Object(x.jsx)(O.a,{bootstrapURLKeys:{key:F},defaultCenter:{lat:45.463336,lng:9.187174},defaultZoom:12.8,onChildClick:this._onChildClick,children:this.state.results.map((function(e){return Object(x.jsx)(k,{lat:e.original.Latitude,lng:e.original.Longitude,address:e.original.Address,weekday:e.original.Weekday,name:e.original.Name,status:e.original.Status,show:e.show},e.original.RowNumber)}))})})}}]),n}(r.a.Component),C=n(265).GoogleSpreadsheet,I=n(126).ApiKey;function S(e){var t=e.column,n=t.filterValue,a=t.setFilter,s=t.preFilteredRows,i=t.id,c=r.a.useMemo((function(){var e=new Set;return s.forEach((function(t){e.add(t.values[i])})),Object(u.a)(e.values())}),[i,s]);return Object(x.jsxs)("select",{className:"select is-small",value:n,onChange:function(e){a(e.target.value||void 0)},children:[Object(x.jsx)("option",{value:"",children:"All"}),c.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})}function L(e){var t=e.column,n=t.filterValue,a=t.setFilter;return Object(x.jsx)("input",{className:"input is-small",value:n||"",onChange:function(e){return a(e.target.value)}})}var W=function(){var e=Object(a.useState)({headerValues:null,rows:[],isFetching:!1}),t=Object(d.a)(e,2),n=t[0],s=t[1];Number.MAX_SAFE_INTEGER,Object(a.useEffect)((function(){Object(l.a)(Object(c.a)().mark((function e(){var t,a,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(Object(o.a)(Object(o.a)({},n),{},{isFetching:!0})),(t=new C("1_X_znvg8kGbFMXoys011182T5ZTGONCsveY9uLEWsr8")).useApiKey(I),e.next=6,t.loadInfo();case 6:return a=t.sheetsByIndex[0],e.next=9,a.getRows();case 9:r=e.sent,s({headerValues:a.headerValues,rows:r,isFetching:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),s(Object(o.a)(Object(o.a)({},n),{},{isFetching:!1}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[]);var i=r.a.useMemo((function(){return n.isFetching||null==n.headerValues?[]:n.rows.map((function(e){return{Address:e.Address,AudienceEntryFee:e["Audience Entry Fee"],HowToBook:e["Contact / Book a Spot"],Language:e.Language,Category:e["Event Category"],SubCategory:e["Event Sub-Category"],Status:e.Status,OrganizerName:e["Organizer Name"],Description:e["Event Description"],FacebookGroup:e["Facebook Group"],FacebookPage:e["Facebook Page"],WhatsApp:e.WhatsApp,GForm:e["Google Form"],Email:e.Email,Frequency:e.Frequency,Instagram:e.Instagram,Latitude:e.Latitude,Level:e["Comedian Level"],Longitude:e.Longitude,Name:e.Name,RowNumber:e.rowNumber,Time:e["Event Time"],UpdateInfoFormLink:e["Update Info Form Link"],Venue:e.Venue,Weekday:e["Weekday / Month"],Website:e.Website,WheelchairAccess:e["Wheelchair Access"]}}))}),[n]),u=r.a.useMemo((function(){return n.isFetching||null==n.headerValues?[]:[{Header:"",accessor:"UpdateInfoFormLink",disableFilters:!0,Cell:function(e){var t=e.row;return Object(x.jsx)("a",{href:t.original.UpdateInfoFormLink,target:"_blank",children:Object(x.jsx)(b.f,{})})}},{Header:"",accessor:"Instagram",maxWidth:20,minWidth:20,width:20,disableFilters:!0,Cell:function(e){var t=e.row;return Object(x.jsxs)("div",{children:[Object(x.jsx)("a",{href:t.original.Instagram,children:Object(x.jsx)(b.e,{})}),Object(x.jsx)("a",{href:t.original.FacebookPage,children:Object(x.jsx)(b.c,{})}),Object(x.jsx)("a",{href:t.original.WhatsApp,children:Object(x.jsx)(b.g,{})}),Object(x.jsx)("a",{href:t.original.GForm,children:Object(x.jsx)(b.d,{})}),Object(x.jsx)("a",{href:""===t.original.Email?"":"Italian"===t.original.Language?["mailto:",t.original.Email,"?subject=Iscrizione%20open%20mic%20",t.original.Venue].join(""):["mailto:",t.original.Email,"?subject=Sign%20up%20to%20open%20mic%20",t.original.Venue].join(""),children:Object(x.jsx)(b.b,{})})]})}},{Header:"Name",accessor:"Name",disableFilters:!0,maxWidth:400,minWidth:300,width:200,Filter:L},{Header:"Description",accessor:"Description",hideInitially:!0,Filter:L},{Header:"Category",accessor:"Category",hideInitially:!0,Filter:L},{Header:"Sub Category",accessor:"SubCategory",hideInitially:!0,Filter:L},{Header:"Status",accessor:"Status",maxWidth:600,minWidth:250,width:400,Filter:S,filter:"equals"},{Header:"Organizer Name",accessor:"OrganizerName",hideInitially:!0,Filter:L},{Header:"Audience Entry Fee",accessor:"AudienceEntryFee",hideInitially:!0,Filter:S},{Header:"Level",accessor:"Level",Filter:S,filter:"equals"},{Header:"Language",accessor:"Language",Filter:S},{Header:"Frequency",accessor:"Frequency",Filter:S},{Header:"Weekday",accessor:"Weekday",Filter:S},{Header:"Time",accessor:"Time",Filter:L},{Header:"Venue",accessor:"Venue",maxWidth:600,minWidth:200,width:400,Filter:L,disableFilters:!0},{Header:"Website",accessor:"Website",hideInitially:!0,disableFilters:!0},{Header:"Address",accessor:"Address",maxWidth:600,minWidth:300,width:400,Filter:L,disableFilters:!0},{Header:"Wheelchair Access",accessor:"WheelchairAccess",hideInitially:!0,Filter:S},{Header:"How To Book",accessor:"HowToBook",Filter:L,disableFilters:!0},{Header:"Facebook Group",accessor:"FacebookGroup",hideInitially:!0,disableFilters:!0,Cell:function(e){var t=e.row;return Object(x.jsx)("a",{href:t.original.FacebookGroup,children:t.original.FacebookGroup})}}]}),[n]),j=r.a.useMemo((function(){return[{id:"BackOn",value:"Yes"}]})),m=Object(h.useTable)({columns:u,data:i,initialState:{hiddenColumns:u.filter((function(e){return e.hideInitially})).map((function(e){return e.accessor})),filters:j}},h.useFilters),p=m.getTableProps,g=m.getTableBodyProps,f=m.headerGroups,O=m.rows,v=m.prepareRow,w=m.allColumns;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"columns is-multiline",children:[Object(x.jsx)("span",{className:"map column is-12-mobile is-5-desktop",children:Object(x.jsx)(N,{results:O})}),Object(x.jsxs)("span",{className:"table_wrapper column is-12-mobile is-7-desktop",children:[Object(x.jsxs)("div",{id:"table-dropdown",className:"dropdown",children:[Object(x.jsx)("div",{className:"dropdown-trigger",children:Object(x.jsx)("button",{className:"button",onClick:function(){return document.getElementById("table-dropdown").classList.toggle("is-active")},children:"Select columns \ud83d\udd3d"})}),Object(x.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:w.map((function(e){return Object(x.jsx)("div",{className:"dropdown-content",children:Object(x.jsxs)("label",{className:"checkbox",children:[Object(x.jsx)("input",Object(o.a)({type:"checkbox"},e.getToggleHiddenProps())),e.id]})},e.id)}))})]}),Object(x.jsxs)("table",Object(o.a)(Object(o.a)({className:"table is-hoverable"},p()),{},{children:[Object(x.jsx)("thead",{children:f.map((function(e){return Object(x.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(x.jsxs)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps({style:{minWidth:e.minWidth,width:e.width}})),{},{children:[e.render("Header"),Object(x.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(x.jsx)("tbody",Object(o.a)(Object(o.a)({},g()),{},{children:O.map((function(e){return v(e),Object(x.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(x.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})]})})},A=n.p+"static/media/milano-2.80d62e66.png";var E=function(){return Object(x.jsxs)("nav",{className:"navbar is-light has-shadow py-4 mb-2",children:[Object(x.jsxs)("div",{className:"navbar-brand",children:[Object(x.jsx)("a",{className:"navbar-item",children:Object(x.jsx)("img",{src:A,style:{maxHeight:"150px"}})}),Object(x.jsxs)("div",{className:"navbar-start",children:[Object(x.jsx)("div",{className:"navbar-item",children:Object(x.jsxs)("div",{className:"title-subtitle-container",children:[Object(x.jsx)("p",{className:"title",children:"Milan Standup Comedy Map"}),Object(x.jsx)("p",{className:"subtitle",children:"Perform comedy near you"})]})}),Object(x.jsx)("div",{className:"navbar-burger",onClick:function(){return document.getElementById("nav-links").classList.toggle("is-active")},children:Object(x.jsx)(b.a,{fontSize:"3em"})})]})]}),Object(x.jsx)("div",{className:"navbar-menu",id:"nav-links",children:Object(x.jsxs)("div",{className:"navbar-end",children:[Object(x.jsx)("a",{className:"navbar-item navbar-item-centered",href:"https://forms.gle/vDuLfQ7Bc9iKxT2o8",children:"\ud83c\udfa4 Submit an open mic night"}),Object(x.jsx)("a",{className:"js-modal-trigger navbar-item-centered","data-target":"modal-js-example",children:"\u2753 F.A.Q."}),Object(x.jsx)("a",{className:"navbar-item navbar-item-centered",href:"https://www.instagram.com/_anarchytect/",children:"\ud83d\udce3 Contact me for feedbacks!"})]})})]})};document.addEventListener("DOMContentLoaded",(function(){function e(e){e.classList.remove("is-active")}(document.querySelectorAll(".js-modal-trigger")||[]).forEach((function(e){var t=e.dataset.target,n=document.getElementById(t);e.addEventListener("click",(function(){n.classList.add("is-active")}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((function(t){var n=t.closest(".modal");t.addEventListener("click",(function(){e(n)}))})),document.addEventListener("keydown",(function(t){"Escape"===t.code&&(document.querySelectorAll(".modal")||[]).forEach((function(t){e(t)}))}))}));function H(){var e=[{question:"Found a bug? Wanna contribute? Rip the site and f**k us?",answer:Object(x.jsxs)("p",{children:["Here's our ",Object(x.jsx)("a",{href:"https://github.com/morettimarco/open-mic-nights",children:"Git repo"}),"! Take a look at my code!"]})},{question:"How can I view the raw data of app?",answer:Object(x.jsxs)("p",{children:["Head to the ",Object(x.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1_X_znvg8kGbFMXoys011182T5ZTGONCsveY9uLEWsr8",children:"Google Sheet."})]})},{question:"Credits",answer:Object(x.jsxs)("p",{children:["Many thanks to the original project"," ",Object(x.jsx)("a",{href:"https://apuchitnis.github.io/open-mic-nights/",children:"London Standup Comedy Map"})," ","and to the awsome"," ",Object(x.jsx)("a",{href:"https://apuchitnis.github.io/",children:" Apu Chitnis"})," for sharing it."]})}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(E,{}),Object(x.jsx)(W,{}),Object(x.jsx)("div",{className:"section",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"columns is-vcentered",children:e.map((function(e){return Object(x.jsx)("div",{className:"column",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("div",{className:"card-header-title",children:e.question})}),Object(x.jsx)("div",{className:"card-content",children:Object(x.jsx)("div",{className:"content",children:e.answer})})]})},e.question)}))})})})]})}var T=document.getElementById("app");i.a.render(Object(x.jsx)(H,{}),T)}},[[469,1,2]]]);
//# sourceMappingURL=main.6955dc0c.chunk.js.map