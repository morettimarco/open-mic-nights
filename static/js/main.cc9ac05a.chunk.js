(this["webpackJsonpopen-mic-nights"]=this["webpackJsonpopen-mic-nights"]||[]).push([[0],{105:function(e,t){},259:function(e,t,n){},275:function(e,t){},277:function(e,t){},295:function(e,t){},331:function(e,t){},333:function(e,t){},365:function(e,t){},367:function(e,t){},368:function(e,t){},373:function(e,t){},375:function(e,t){},381:function(e,t){},383:function(e,t){},402:function(e,t){},414:function(e,t){},417:function(e,t){},466:function(e,t,n){"use strict";n.r(t);var a=n(110),r=n(111),s=n(115),c=n(114),i=n(112),o=n(12),l=n(229),d=n(232),u=n(233),b=n(7),j=n.n(b),h=n(109),m=n.n(h),p=n(230),O=n.n(p),g=(n(259),n(113)),f=n.p+"static/media/milano-2.80d62e66.png",v=n.p+"static/media/Microphone.e3a75b6b.png",x=n(231),w=n(0),k=n(262).GoogleSpreadsheet,y="1_X_znvg8kGbFMXoys011182T5ZTGONCsveY9uLEWsr8",F="https://docs.google.com/spreadsheets/d/"+y,N="AIzaSyBf1UOdCb4_NT4h_g4Wzz4taWIok5cpeCQ";function I(e){var t=e.column,n=t.filterValue,a=t.setFilter,r=t.preFilteredRows,s=t.id,c=j.a.useMemo((function(){var e=new Set;return r.forEach((function(t){e.add(t.values[s])})),Object(u.a)(e.values())}),[s,r]);return Object(w.jsxs)("select",{className:"select is-small",value:n,onChange:function(e){a(e.target.value||void 0)},children:[Object(w.jsx)("option",{value:"",children:"All"}),c.map((function(e,t){return Object(w.jsx)("option",{value:e,children:e},t)}))]})}function C(e){var t=e.column,n=t.filterValue,a=t.setFilter;return Object(w.jsx)("input",{className:"input is-small",value:n||"",onChange:function(e){return a(e.target.value)}})}function H(){var e=Object(b.useState)({headerValues:null,rows:[],isFetching:!1}),t=Object(d.a)(e,2),n=t[0],a=t[1];Object(b.useEffect)((function(){Object(l.a)(Object(i.a)().mark((function e(){var t,r,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Object(o.a)(Object(o.a)({},n),{},{isFetching:!0})),(t=new k(y)).useApiKey(N),e.next=6,t.loadInfo();case 6:return r=t.sheetsByIndex[0],e.next=9,r.getRows();case 9:s=e.sent,a({headerValues:r.headerValues,rows:s,isFetching:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),a(Object(o.a)(Object(o.a)({},n),{},{isFetching:!1}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[]);var r=j.a.useMemo((function(){return n.isFetching||null==n.headerValues?[]:n.rows.map((function(e){return{Address:e.Address,AudienceEntryFee:e["Audience Entry Fee"],HowToBook:e["Contact / Book a Spot"],Language:e.Language,Category:e["Event Category"],Description:e["Event Description"],FacebookGroup:e["Facebook Group"],FacebookPage:e["Facebook Page"],Frequency:e.Frequency,Indoor:e["Indoor / Outdoor"],Instagram:e.Instagram,Latitude:e.Latitude,Level:e["Comedian Level"],Longitude:e.Longitude,Name:e.Name,PayToPlay:e["Pay to Play"],RowNumber:e.rowNumber,Time:e["Event Time"],UpdateInfoFormLink:e["Update Info Form Link"],Venue:e.Venue,WalkIn:e["Walk-in"],Weekday:e["Weekday / Month"],Website:e.Website,WheelchairAccess:e["Wheelchair Access"]}}))}),[n]),s=j.a.useMemo((function(){return n.isFetching||null==n.headerValues?[]:[{Header:"\ud83d\udcdd",accessor:"UpdateInfoFormLink",disableFilters:!0,Cell:function(e){var t=e.row;return Object(w.jsx)("a",{href:t.original.UpdateInfoFormLink,target:"_blank",children:Object(w.jsx)(x.a,{})})}},{Header:"Name",accessor:"Name",Filter:C},{Header:"Description",accessor:"Description",hideInitially:!0,Filter:C},{Header:"Category",accessor:"Category",hideInitially:!0,Filter:C},{Header:"Audience Entry Fee",accessor:"AudienceEntryFee",hideInitially:!0,Filter:I},{Header:"Level",accessor:"Level",Filter:C},{Header:"Language",accessor:"Language",Filter:I},{Header:"Frequency",accessor:"Frequency",Filter:C},{Header:"Weekday",accessor:"Weekday",Filter:C},{Header:"Time",accessor:"Time",Filter:C},{Header:"Venue",accessor:"Venue",Filter:C},{Header:"Website",accessor:"Website",hideInitially:!0,disableFilters:!0},{Header:"Address",accessor:"Address",Filter:C},{Header:"Wheelchair Access",accessor:"WheelchairAccess",hideInitially:!0,Filter:I},{Header:"How To Book",accessor:"HowToBook",Filter:C},{Header:"Facebook Page",accessor:"FacebookPage",disableFilters:!0,Cell:function(e){var t=e.row;return Object(w.jsx)("a",{href:t.original.FacebookPage,children:t.original.FacebookPage})}},{Header:"Facebook Group",accessor:"FacebookGroup",hideInitially:!0,disableFilters:!0,Cell:function(e){var t=e.row;return Object(w.jsx)("a",{href:t.original.FacebookGroup,children:t.original.FacebookGroup})}},{Header:"Instagram",accessor:"Instagram",hideInitially:!1,disableFilters:!0,Cell:function(e){var t=e.row;return Object(w.jsx)("a",{href:t.original.Instagram,children:t.original.Instagram})}}]}),[n]),c=j.a.useMemo((function(){return[{id:"BackOn",value:"Yes"}]})),u=Object(g.useTable)({columns:s,data:r,initialState:{hiddenColumns:s.filter((function(e){return e.hideInitially})).map((function(e){return e.accessor})),filters:c}},g.useFilters),h=u.getTableProps,m=u.getTableBodyProps,p=u.headerGroups,O=u.rows,f=u.prepareRow,v=u.allColumns;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"columns is-multiline",children:[Object(w.jsx)("span",{className:"map column is-12-mobile is-5-desktop",children:Object(w.jsx)(P,{results:O})}),Object(w.jsxs)("span",{className:"table_wrapper column is-12-mobile is-7-desktop",children:[Object(w.jsxs)("div",{id:"table-dropdown",className:"dropdown",children:[Object(w.jsx)("div",{className:"dropdown-trigger",children:Object(w.jsx)("button",{className:"button",onClick:function(){return document.getElementById("table-dropdown").classList.toggle("is-active")},children:"Select columns \ud83d\udd3d"})}),Object(w.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:v.map((function(e){return Object(w.jsx)("div",{className:"dropdown-content",children:Object(w.jsxs)("label",{className:"checkbox",children:[Object(w.jsx)("input",Object(o.a)({type:"checkbox"},e.getToggleHiddenProps())),e.id]})},e.id)}))})]}),Object(w.jsxs)("table",Object(o.a)(Object(o.a)({className:"table is-hoverable"},h()),{},{children:[Object(w.jsx)("thead",{children:p.map((function(e){return Object(w.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(w.jsxs)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{children:[e.render("Header"),Object(w.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(w.jsx)("tbody",Object(o.a)(Object(o.a)({},m()),{},{children:O.map((function(e){return f(e),Object(w.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(w.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})]})})}var L=function(e){var t=e.name;return Object(w.jsx)("div",{style:{position:"relative",bottom:50,left:"-45px",textAlign:"center",width:220,backgroundColor:"white",boxShadow:"0 2px 7px 1px rgba(0, 0, 0, 0.3)",padding:10,fontSize:14,zIndex:100,borderRadius:"25px"},children:Object(w.jsx)("div",{style:{fontSize:16},children:t})})},A=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(w.jsx)("div",{className:this.props.show?"has-background-warning":"has-background-primary-dark",style:{border:"1px solid white",borderRadius:"50%",height:20,width:20,zIndex:10,cursor:"pointer"},children:this.props.show&&Object(w.jsx)(L,{name:this.props.name})})}}]),n}(j.a.Component),P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._onChildClick=function(e,t){r.setState((function(t){var n=t.results.findIndex((function(e){return e.show}));n>0&&t.results[n].original.RowNumber!=parseInt(e)&&(t.results[n].show=!1),n=t.results.findIndex((function(t){return t.original.RowNumber==parseInt(e)})),t.results[n].show=!t.results[n].show;for(var a=document.querySelectorAll("td"),r=null,s=0;s<a.length;s++)if(a[s].textContent==t.results[n].original.Name){r=a[s];break}return r.parentNode.style.backgroundColor="#fffcb3",setTimeout((function(){return r.parentNode.style.backgroundColor="white"}),2e3),r.scrollIntoView({behavior:"smooth",block:"nearest"}),{results:t.results}}))},r.state={results:[]},r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.results!=e.results&&this.setState((function(e,t){return{results:t.results.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{show:!1})}))}}))}},{key:"render",value:function(){return Object(w.jsx)("div",{id:"map",children:Object(w.jsx)(O.a,{bootstrapURLKeys:{key:N},defaultCenter:{lat:45.463336,lng:9.187174},defaultZoom:13,onChildClick:this._onChildClick,children:this.state.results.map((function(e){return Object(w.jsx)(A,{lat:e.original.Latitude,lng:e.original.Longitude,name:e.original.Name,show:e.show},e.original.RowNumber)}))})})}}]),n}(j.a.Component);function W(){var e=[{question:"How can I stay up to date with standup?",answer:Object(w.jsxs)("p",{children:["Join our ",Object(w.jsx)("a",{href:"https://www.facebook.com/groups/standupcomedyitalia/",children:"Facebook Group"}),"! We'll be glad to have you \ud83d\ude0a"]})},{question:"How can I view the raw data of app?",answer:Object(w.jsxs)("p",{children:["Head to the ",Object(w.jsx)("a",{href:F,children:"Google Sheet."})]})}];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("nav",{className:"navbar is-light has-shadow py-4 mb-2",children:[Object(w.jsxs)("div",{className:"navbar-brand",children:[Object(w.jsx)("a",{className:"navbar-item",children:Object(w.jsx)("img",{src:f,style:{maxHeight:"150px"}})}),Object(w.jsxs)("div",{className:"navbar-burger",onClick:function(){return document.getElementById("nav-links").classList.toggle("is-active")},children:[Object(w.jsx)("span",{}),Object(w.jsx)("span",{}),Object(w.jsx)("span",{})]})]}),Object(w.jsxs)("div",{className:"navbar-menu",id:"nav-links",children:[Object(w.jsx)("div",{className:"navbar-start",children:Object(w.jsxs)("div",{className:"navbar-item",children:[Object(w.jsx)("p",{className:"title",children:"Milan Standup Comedy Map"}),Object(w.jsx)("p",{className:"subtitle",children:" - Perform comedy near you"})]})}),Object(w.jsxs)("div",{className:"navbar-end",children:[Object(w.jsxs)("a",{className:"navbar-item",href:"https://forms.gle/vDuLfQ7Bc9iKxT2o8",children:[Object(w.jsx)("img",{src:v}),"Submit an open mic night"]}),Object(w.jsx)("a",{className:"navbar-item",href:"https://tripetto.app/run/ZNRADVJBA8",children:"\ud83d\ude4f Submit feedback \ud83d\ude4f"})]})]})]}),Object(w.jsx)(H,{}),Object(w.jsx)("div",{className:"section",children:Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("div",{className:"columns is-vcentered",children:e.map((function(e){return Object(w.jsx)("div",{className:"column",children:Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{className:"card-header",children:Object(w.jsx)("div",{className:"card-header-title",children:e.question})}),Object(w.jsx)("div",{className:"card-content",children:Object(w.jsx)("div",{className:"content",children:e.answer})})]})},e.question)}))})})})]})}var S=document.getElementById("app");m.a.render(Object(w.jsx)(W,{}),S)}},[[466,1,2]]]);
//# sourceMappingURL=main.cc9ac05a.chunk.js.map